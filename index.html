<!doctype html>
 <html lang="en">
 <head>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width,initial-scale=1" />
   <title>Fast Static QR Generator</title>
   <meta name="description" content="Optimized static QR generator — offline, no API calls." />
   <style>
     body {font-family: system-ui, sans-serif; background:#0b1220; color:#fff; display:flex; align-items:center; justify-content:center; height:100vh; margin:0;}
     main {background:#111827; padding:24px; border-radius:12px; width:100%; max-width:600px; box-shadow:0 4px 20px rgba(0,0,0,0.5)}
     h1 {font-size:1.2rem; margin-bottom:10px;}
     input {width:100%; padding:10px; border-radius:8px; border:none; margin-bottom:10px;}
     button {background:#7c3aed; color:#fff; border:none; padding:10px 14px; border-radius:8px; cursor:pointer; font-weight:600;}
     button:disabled {opacity:0.5; cursor:not-allowed;}
     #qr {display:block; margin:16px auto;}
     footer {font-size:0.8rem; color:#9ca3af; text-align:center; margin-top:12px;}
   </style>
 </head>
 <body>
   <main>
     <h1>Fast Offline QR Generator</h1>
     <input id="url" type="url" placeholder="Enter URL (e.g. https://example.com)" />
     <button id="generate">Generate QR</button>
     <canvas id="qr"></canvas>
     <button id="download" disabled>Download PNG</button>
     <footer>All processing is offline — no API calls. The QR itself encodes the link permanently.</footer>
   </main>
 
   <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
   <script>
     const qrCanvas = document.getElementById('qr');
     const input = document.getElementById('url');
     const genBtn = document.getElementById('generate');
     const downloadBtn = document.getElementById('download');
 
     function drawQRCode(text) {
       const qr = qrcode(0, 'M'); // Auto size
       qr.addData(text);
       qr.make();
       const cellSize = 6;
       const margin = 4;
       const size = qr.getModuleCount() * cellSize + margin * 2;
       qrCanvas.width = qrCanvas.height = size;
       const ctx = qrCanvas.getContext('2d');
       ctx.fillStyle = '#fff';
       ctx.fillRect(0, 0, size, size);
       ctx.fillStyle = '#000';
       for (let r = 0; r < qr.getModuleCount(); r++) {
         for (let c = 0; c < qr.getModuleCount(); c++) {
           if (qr.isDark(r, c)) {
             ctx.fillRect(c * cellSize + margin, r * cellSize + margin, cellSize, cellSize);
           }
         }
       }
     }
 
     genBtn.onclick = () => {
       const url = input.value.trim();
       if (!url) return alert('Please enter a URL');
       const finalUrl = /^https?:\/\//i.test(url) ? url : 'https://' + url;
       drawQRCode(finalUrl);
       downloadBtn.disabled = false;
     };
 
     downloadBtn.onclick = () => {
       const link = document.createElement('a');
       link.download = 'qr.png';
       link.href = qrCanvas.toDataURL('image/png');
       link.click();
     };
   </script>
 </body>
 </html>
